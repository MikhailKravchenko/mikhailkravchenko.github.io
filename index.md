
## Здесь я решил подробно описать свой опыт участия в проектах, в формате биографии и технического резюме.

  Знакомство я зыком программирования python началось в 2014 году, до этого имел опыт создания страниц на сайтах предоставляющих онлайн редакторы и возможность редактировать html напрямую.

  2014 – 2018 ограничился минимальными с точки зрения объема кода скриптами.

## Чат бот для викторин.

  В 2018 года пришла идея создать сервис для проведения квестов по городу, виртуальных викторин, который потихоньку стал ориентирован на проведение тест грейдов в компаниях. Но обо всем по порядку.

  Решив обновить навыки прочитал пару книг об основах языка, приступил к созданию приложения. Для взаимодействия с пользователем выбор пал на мессенджер Telegram.
То есть пользователь получал задания и вводил на них ответы прямо в мессенджере, при этом фиксировалась вся информация о времени получения задания, времени ответа (sqlite3). Для реализации использовал pyTelegramBotAPI.

  Подключив threading смог высчитывать сколько пользователь находится на уровне и автоматически завершать задание и переходить к следующему. Так называемый автопереход, все зависело от параметров, введенных создателем викторины.

  Настало время заставить приложение работать в интернете и бот переехал на VPS.

  Половина работы сделана. Осталось предоставить автору викторины инструмент для создания викторины, информации о ней, уровней, правильных ответов, времени отведенного на каждый уровень и т.д.

  Вот и первое знакомство с Django. Сначала литература и документация. Создание models, views, templates. Подключение регистрации и авторизации пользователя, CAPTCHA. 
По итогу приложение было готово. Пользователи могли зарегистрироваться, ввести свой токен для бота Telegram, создать викторину и по определенной команде в чате викторина начиналась.

  Через веб – интерфейс можно было следить за вводимыми пользователями ответами, выгружать упорядоченную по времени ответа статистику (таблицу результатов) в формате xlsx.

  Оба приложения, бот и Django, работали почти без ошибок. Баги фиксились в процессе эксплуатации. Если Django проект выглядел более-менее, то бот был написан в стиле индийского кода – пара больших файлов с функциями.

  К 2020 году решил возродить проект и выполнить рефакторинг. Инкапсулировал функции в созданные классы, БД переехала на Postgresql, добавил Redis для быстрого доступа к часто запрашиваемым данным. Все функции веб – интерфейса переехали в прямо в чат с ботом и были реализованы при помощи Callback buttons. Написаны TestCase unittest с использованием mock объектов. С помощью github actions был настроен автоматический деплой приложения на сервер при коммите в мастер.

  Во время проведения викторин, логи приложения транслировались на другой сервер, где для их парсинга был специально “поднят” graylog.

  После мозгового штурма, было принято решение ориентировать бота на проведение не викторин, а грейдов для кандидатов и сотрудников. 

```markdown
Список всех библиотек, используемых за все время в приложении:
•	logging
•	Thread
•	pyTelegramBotAPI 
•	sys
•	time
•	datetime
•	redis
•	psycopg2
•	sqlite3
•	requests
•	re
•	ssl
•	aiohttp
•	os
•	shelve
•	unittest
•	openpyxl
•	unittest

```
## Бот для чата мемов

  Шутки ради поступило предложение для создания бота для чата мемов (корпоративный чат - курилка). 

  Бот должен был проверять все сообщения с картинками поступающих в чат, на предмет совпадения с теми, что присылались раньше (проверка на «баян»).

  Со временем добавилась функциональность голосования за мемы присланными пользователями, вывода победителей недели, месяца, года.

```markdown
Список всех библиотек, используемых за все время в приложении:
•	shelve
•	pyTelegramBotAPI 
•	sqlite3
•	sys
•	datetime
•	cv2
•	json
•	random
•	re
•	ssl
•	logging
•	aiohttp
•	pythonjsonlogger
```
## Бот для сравнивания веб страниц prod и test стендов

  После появления бота для чата мемов, появилась идея создать приложение, которое будет делать и сравнивать скриншоты полученных с указанных стендов. Приложение должно было фиксировать разницу, даже если баннер или кнопка переместились на 1 пиксель. Приложение выдавало пользователю отчет в виде скриншота страницы с отмеченными местами, где есть разница.

  По традиции пользовательский интерфейс был реализован через Telegram бота. Пользователь вводил адрес тест стенда и сервера, с которым хотел сравнить (dev, test, stage, prod), ссылку на страницу и запускал тест. 

```markdown
Список всех библиотек, используемых за все время в приложении:
•	platform
•	pyTelegramBotAPI 
•	shelve
•	copy
•	selenium
•	cv2
```
## Участие в стартаппе [SIB5](https://sib5.tech/)

   Автоматическая деперсонализация персональных данных. Он совместим с документами MS Office, форматами PNG, JPEG и PDF.

   Программное обеспечение работает локально без подключения к Интернету.

   Соответствует требованиям GDPR, HIPAA и другим стандартам по защите персональных данных.
   
   Стартапп принял участие и успешно прошел до конца в  акселераторе https://startupwiseguys.com/ .
   
   Мною был проведен рефакторинг кода, инкапсуляция функций в новые классы. Вынес некоторые части в отдельные docker контейнеры.
 
   Добавлена регистрация и авторизация, выдача JWT токенов. Ролевая модель. Логирование. Подключение NLP и OCR систем. Multiprocessing и async. Доработка и создание алгоритмов поиска персональных данных. Добавлена БД. Написан алгоритм восстановления деперсонализированных документов. Переход на REST api. Взаимодействие с отделом фронт разработки. Написание документации к api (swagger).

   С переходом на rest подключен автоматическое формирование swagger и его вывод на swagger-ui/. Реструктуризация базы данных, переход всех запросов на ORM.  Добавление  Celery + rabbitmq для фонового выполнения основных, затратных по времени задач + Flower для их мониторинга. 
   Проект разбит на 11 отдельных контейнеров docker, + контейнеры worker'ов для Celery (их количество зависит от желания клиента), описанных в docker-compouse. Для проксирования запросов добален nginx.
    Произведен рефракторинг: 

        • Оптимизированы  все запросы ORM. Добавлен в запрос prefetch_related и select_related. Количество запросов в БД сократилось с 44 до 7.
        • Single responsibility выделены новые классы из появившихся методов
        • Скорректирован под паттерн проектирования цепочка обязанностей
        • Очистка от неиспользуемых методов и функций, удаление "чистого sql" из проекта
        • Don’t repeat yourself (DRY) доработаны места где дублировался код
        • Добавлена типизация
        • Доработана документация
        
   Приступил к написанию unit-тестов.
     
 ```markdown
•	Docker, Docker compose
•	nginx
•	supervisor
•	Celery
•	RabbitMQ
•	Postgresql
•	Redis
•	REST_framework
•	async
•	Django
•	django-debug-toolbar
•	djoser

```
